{% extends "layout.html" %}
{% block head %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/responsive_form.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/edit_album.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/lightpick.css') }}">
{% endblock head %}

{% block main %}
<div class="progress_bar">
    <div class="progress"></div>
</div>
<section class="album_grid_container">
    <!-- Album information -->
    <form id="upload_form" class="responsive_form">
        <fieldset>
            <h1>Create Album</h1>
            <div class="form_row">
            {% if album_info is defined %}
            <div class="input_container">
                <input id="country" type="text" name="country" placeholder=" " value="{{ album_info[0] }}" required>
                <span>Country</span>
            </div>
            <div class="input_container">
                <input id="city" type="text" name="city" placeholder=" " value="{{ album_info[1] }}" required>
                <span>City</span>
            </div>
            <div class="input_container">
                <input id="period" type="text" placeholder=" " required>
                <span>Date period</span>
            </div>
            {% else %}
            <div class="input_container">
                <input id="country" type="text" name="country" placeholder=" " required>
                <span>Country</span>
            </div>
            <div class="input_container">
                <input id="city" type="text" name="city" placeholder=" " required>
                <span>City</span>
            </div>
            <div class="input_container">
                <input id="period" type="text" placeholder=" " required>
                <span>Date period</span>
            </div>
            <!-- Knapp för att ladda upp alla bilder -->
            <div class="input_container">
                <button type="submit">Upload album</button>
            </div>
            
            {% endif %}
            </div>
        </fieldset>
    </form>
    <!-- Förhandsvisningav bilder, samt sortera dem -->
    <section id="preview">
        <input id="upload" type="file" multiple>
        <!-- Knapp för uppladdning av bilder -->
        <div id="upload_btn" class="locked"></div>
        <!-- Uppladdade bilder kommer hamna här -->
        {% if posts is defined %}
        {% for post in posts %}
        <div class="post" {% if post[1] %} data-headline="{{ post[1] }}" {% endif %}{% if post[2] %}
            data-description="{{ post[2] }}" {% endif %}>
            <i class="material-icons close">close</i>
            <i class="material-icons info">info_outline</i>
            <img src="{{  url_for('image.uploaded_images', image_id=post[0]) }}">
            <i class="material-icons reorder">reorder</i>
        </div>
        {% endfor %}
        {% endif %}
    </section>
</section>

<!-- Ruta för att lägga till text för bilder -->
<section class="modal" id="img_info_modal">
    <form class="image_info responsive_form">
        <a class="cancel_modal"><i class="material-icons">close</i></a>
        <h2>Image info</h2>
        <img class="img_preview">
        <div class="form_row">
            <div class="input_container">
                <input type="text" name="headline" placeholder=" " required>
                <span>Headline</span>
            </div>
        </div>
        <div class="form_row">
            <div class="input_container">
                <textarea name="description" placeholder=" "></textarea>
                <span>Image description</span>
            </div>
        </div>
    </form>
</section>

{% endblock main %}
{% block javascript %}
{{ super() }}
<script src="https://raw.githack.com/SortableJS/Sortable/master/Sortable.js"></script>
<script src="{{ url_for('static', filename='js/moment.js') }}"></script>
<script src="{{ url_for('static', filename='js/lightpick.js') }}"></script>
<script src="{{ url_for('static', filename='js/edit_album.js') }}"></script>
{% endblock javascript %}